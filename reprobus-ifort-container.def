BootStrap: docker
From: intel/hpckit:devel-ubuntu22.04

%files
    ./src.zip /usr/local/REPROBUS/src.zip

%environment
    export PATH="${PATH}:/opt/intel/oneapi/compiler/latest/bin"

%post
    apt-get update -y && apt-get upgrade -y
    apt-get install -y wget curl tar nano python3 python3-pip unzip
    apt-get clean

    pip3 install numpy scipy matplotlib xarray pandas netCDF4 cartopy

    cd /usr/local/REPROBUS
    unzip src.zip -d ./src
    rm src.zip
